"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3286],{3286:(C,_,i)=>{i.r(_),i.d(_,{ChangePasswordPage:()=>E});var c=i(6895),s=i(433),a=i(6114),u=i(2142),g=i(4708),p=i(5830),f=i(4642),o=i(8256),P=i(5620);function w(t,d){1&t&&(o.TgZ(0,"small",14),o._uU(1," Enter your valid password "),o.qZA())}function h(t,d){1&t&&(o.TgZ(0,"small",14),o._uU(1," Enter new password "),o.qZA())}function v(t,d){1&t&&(o.TgZ(0,"small",14),o._uU(1," Confirm password mismatch "),o.qZA())}let E=(()=>{class t{constructor(e,n,r){this.fb=e,this.api=n,this.common=r}ngOnInit(){this.formBuild()}formBuild(){this.notificationForm=this.fb.group({password:["",[s.kI.required,s.kI.pattern(u.s.validation.password)]],newPassword:["",[s.kI.required,s.kI.pattern(u.s.validation.password)]],confirmPassword:["",[s.kI.required]]}),this.notificationForm.addValidators((0,g.Y)("newPassword","confirmPassword"))}submit(){if(this.notificationForm.valid){this.common.showLoading(u.s.showloading);let e={id:localStorage.getItem("notificationUserId"),old_password:this.notificationForm.value.password,password:this.notificationForm.value.newPassword,password_confirmation:this.notificationForm.value.confirmPassword};this.api.postAuth(f.v.user.changePassword,e).then(n=>{this.common.hideLoading(),this.common.showToast(n?.message),this.notificationForm.reset()}).catch(n=>{this.common.hideLoading(),this.common.showAlert(n?.error?.message??n?.message)})}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.qu),o.Y36(p.s),o.Y36(P.v))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-change-password"]],standalone:!0,features:[o._Bn([p.s]),o.jDz],decls:27,vars:7,consts:[[3,"translucent"],["mode","ios","color","primary"],["slot","start"],[3,"fullscreen"],[1,"mainDiv"],[3,"formGroup","ngSubmit"],[1,"ionInput"],["color","none"],["position","floating"],["type","password","formControlName","password","placeholder","Enter your name"],["class","error-message",4,"ngIf"],["type","password","formControlName","newPassword","placeholder","Enter email address"],["type","password","formControlName","confirmPassword","placeholder","Enter email address"],["type","submit","color","primary","expand","block",1,"ion-margin-top","ion-margin-bottom",3,"disabled"],[1,"error-message"]],template:function(e,n){if(1&e&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),o._uU(3,"Change Password"),o.qZA(),o.TgZ(4,"ion-buttons",2),o._UZ(5,"ion-menu-button"),o.qZA()()(),o.TgZ(6,"ion-content",3)(7,"div",4)(8,"form",5),o.NdJ("ngSubmit",function(){return n.submit()}),o.TgZ(9,"ion-list",6)(10,"ion-item",7)(11,"ion-label",8),o._uU(12,"Old Password"),o.qZA(),o._UZ(13,"ion-input",9),o.qZA(),o.YNc(14,w,2,0,"small",10),o.TgZ(15,"ion-item",7)(16,"ion-label",8),o._uU(17,"New Password "),o.qZA(),o._UZ(18,"ion-input",11),o.qZA(),o.YNc(19,h,2,0,"small",10),o.TgZ(20,"ion-item",7)(21,"ion-label",8),o._uU(22,"Confirm Password "),o.qZA(),o._UZ(23,"ion-input",12),o.qZA(),o.YNc(24,v,2,0,"small",10),o.TgZ(25,"ion-button",13),o._uU(26,"Submit"),o.qZA()()()()()),2&e){let r,l,m;o.Q6J("translucent",!0),o.xp6(6),o.Q6J("fullscreen",!0),o.xp6(2),o.Q6J("formGroup",n.notificationForm),o.xp6(6),o.Q6J("ngIf",(null==(r=n.notificationForm.get("password"))?null:r.invalid)&&((null==(r=n.notificationForm.get("password"))?null:r.dirty)||(null==(r=n.notificationForm.get("password"))?null:r.touched))),o.xp6(5),o.Q6J("ngIf",(null==(l=n.notificationForm.get("newPassword"))?null:l.invalid)&&((null==(l=n.notificationForm.get("newPassword"))?null:l.dirty)||(null==(l=n.notificationForm.get("newPassword"))?null:l.touched))),o.xp6(5),o.Q6J("ngIf",(null==(m=n.notificationForm.get("confirmPassword"))?null:m.invalid)&&((null==(m=n.notificationForm.get("confirmPassword"))?null:m.dirty)||(null==(m=n.notificationForm.get("confirmPassword"))?null:m.touched))),o.xp6(1),o.Q6J("disabled",!n.notificationForm.valid)}},dependencies:[a.Pc,a.YG,a.Sm,a.W2,a.Gu,a.pK,a.Ie,a.Q$,a.q_,a.fG,a.wd,a.sr,a.j9,c.ez,c.O5,s.u5,s._Y,s.JJ,s.JL,s.UX,s.sg,s.u]}),t})()}}]);